


> Written with [StackEdit](https://stackedit.io/).

## chapter28 堆和堆排序
### 定义

* 堆是一个完全二叉树
* 堆中每一个节点的值都必须大于等于（或小于等于）其子树中每个节点的值
* “大顶堆” vs “小顶堆”

### 堆的存储
可以使用数组来存储堆，数组中下标为i的节点其左右节点分别为2 * i和2 * i + 1，其父节点为 i / 2
![](https://static001.geekbang.org/resource/image/4d/1e/4d349f57947df6590a2dd1364c3b0b1e.jpg)


### 堆支持的操作

1. 往堆中插入一个元素
	* 从下往上**堆化**
	* ![](https://static001.geekbang.org/resource/image/e3/0e/e3744661e038e4ae570316bc862b2c0e.jpg)
2. 删除堆顶元素
	* 从上往下**堆化**
	* ![](https://static001.geekbang.org/resource/image/11/60/110d6f442e718f86d2a1d16095513260.jpg)

### 堆排序
#### 1. 建堆
**思路1**：从第一个元素开始，依次将元素插入一个堆，即**从下往上**堆化
**思路2**：从第一个叶子节点开始，依次将中间节点**从上往下**堆化
![](https://static001.geekbang.org/resource/image/50/1e/50c1e6bc6fe68378d0a66bdccfff441e.jpg)
* 

#### 2. 排序

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEwMjEwMTM5MDUsMTM3NzU4MzIwNSw3MD
QyMDE0OTQsLTU5Nzg4ODQ4MSwxMDQ3NTI3MjMsODkwNDYzNzA1
LC00MDY5NjIyODUsLTk5OTQ5NjQzMl19
-->